(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",r)}function n(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",r)}function r(e){"Escape"===e.key&&n(document.querySelector(".popup_is-opened"))}function o(e){e.currentTarget===e.target&&n(e.currentTarget)}e.d({},{OP:()=>S,Mb:()=>f});var c={url:"https://mesto.nomoreparties.co/v1/wff-cohort-7",headers:{authorization:"a352596f-0f9a-4dc8-80c9-98649cf73952","Content-Type":"application/json"}},u=function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))},i=function(e){return fetch("".concat(c.url,"/cards/").concat(e),{method:"DELETE",headers:c.headers}).then((function(e){return u(e)}))},a=function(e){return fetch("".concat(c.url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:c.headers}).then((function(e){return u(e)}))},l=function(e){return fetch("".concat(c.url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:c.headers}).then((function(e){return u(e)}))};function s(e,t){var n=e.querySelector(".card__like-button"),r=e.querySelector(".card__like-number");(e.classList.contains("card__like-button_is-active")?l:a)(t._id).then((function(e){e.likes.length>0?r.textContent=e.likes.length:r.textContent="",n.classList.toggle("card__like-button_is-active")})).catch((function(e){console.log(e)}))}function d(e,t,n,r,o){var c=e.link,u=e.name,i=e._id,a=e.owner._id,l=S.querySelector(".places__item").cloneNode(!0),s=l.querySelector(".card__image"),d=l.querySelector(".card__title");s.src=c,s.alt=u,d.textContent=u;var f=document.querySelector(".popup_type_delete"),_=l.querySelector(".card__delete-button");return a!==t?_.style.display="none":_.addEventListener("click",(function(){n(l,i)})),f.querySelector(".popup__button").addEventListener("click",(function(){return p(f.dataset.idcard)})),l.querySelector(".card__like-button").addEventListener("click",(function(){r(l,e)})),s.addEventListener("click",(function(){return o(s,d)})),l}function p(e){var t=document.querySelector(".popup_type_delete"),r=t.querySelector(".popup__button");r.textContent="Удаление...",i(e).then((function(){f.remove(),n(t)})).catch((function(e){console.log(e)})).finally((function(){r.textContent="Да"}))}var f,_=function(e,t,n){var r=t.querySelector(".".concat(n.id,"-error"));n.classList.remove(e.inputErrorClass),r.classList.remove(e.errorClass),r.textContent=" "},y=function(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(t)?(n.disabled=!1,n.classList.remove(e.inactiveButtonClass)):(n.disabled=!0,n.classList.add(e.inactiveButtonClass))},m=function(e,t){var n=Array.from(t.querySelectorAll(e.inputSelector)),r=t.querySelector(e.submitButtonSelector);n.forEach((function(n){_(e,t,n),n.setCustomValidity(" ")})),t.reset,y(e,n,r)};function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},S=document.querySelector("#card-template").content,q=document.querySelector(".places__list"),b=document.querySelector(".popup_type_edit"),k=document.querySelector(".popup_type_new-card"),E=document.querySelector(".popup_type_image"),L=document.querySelector(".popup_type_delete"),g=document.querySelector(".popup_type_avatar"),C=document.querySelector(".profile__edit-button"),x=document.querySelector(".profile__add-button"),A=document.querySelector(".profile__image"),T=b.querySelector(".popup__close"),j=k.querySelector(".popup__close"),O=E.querySelector(".popup__close"),w=L.querySelector(".popup__close"),P=g.querySelector(".popup__close"),B=b.querySelector(".popup__input_type_name"),D=b.querySelector(".popup__input_type_description"),M=g.querySelector(".popup__input_type_avatar"),N=document.querySelector(".profile__title"),I=document.querySelector(".profile__description"),J=document.querySelector(".profile__image"),V={};function H(e){N.textContent=e.name,I.textContent=e.about}function U(e){J.setAttribute("style","background-image: url(".concat(e.src,");"))}var z=function(e,n){L.dataset.idcard=n,f=e,t(L)};function G(e,n){var r=document.querySelector(".popup_type_image"),o=document.querySelector(".popup__image"),c=document.querySelector(".popup__caption");o.src=e.src,o.alt=e.alt,c.textContent=n.textContent,t(r)}Promise.all([fetch("".concat(c.url,"/users/me"),{method:"GET",headers:c.headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))})),fetch("".concat(c.url,"/cards"),{headers:c.headers}).then((function(e){return u(e)}))]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,c,u,i=[],a=!0,l=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=c.call(n)).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{if(!a&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],c=r[1];V.name=o.name,V.about=o.about,V.src=o.avatar,V.id=o._id,H(V),U(V),c.forEach((function(e){var t=d(e,V.id,z,s,G);q.append(t),function(e,t,n){var r;t.likes.length>0&&(e.querySelector(".card__like-number").textContent=t.likes.length,r=n,t.likes.some((function(e){return e._id===r}))&&!e.classList.contains("card__like-button_is-active")&&e.querySelector(".card__like-button").classList.add("card__like-button_is-active"))}(t,e,V.id)}))})).catch((function(e){console.log(e)})),C.addEventListener("click",(function(){b.querySelector(".popup__input_type_name").value=document.querySelector(".profile__title").innerText,b.querySelector(".popup__input_type_description").value=document.querySelector(".profile__description").innerText,m(h,b),t(b)})),x.addEventListener("click",(function(){m(h,k),t(k)})),A.addEventListener("click",(function(){return t(g)})),T.addEventListener("click",(function(){return n(b)})),j.addEventListener("click",(function(){return n(k)})),O.addEventListener("click",(function(){return n(E)})),w.addEventListener("click",(function(){return n(L)})),P.addEventListener("click",(function(){return n(g)})),E.addEventListener("click",(function(e){o(e)})),b.addEventListener("click",(function(e){o(e)})),k.addEventListener("click",(function(e){o(e)})),L.addEventListener("click",(function(e){o(e)})),g.addEventListener("click",(function(e){o(e)})),b.addEventListener("submit",(function(e){e.preventDefault();var t=B.value,r=D.value,o=g.querySelector(".popup__button");o.textContent="Сохранение...",function(e,t){return fetch("".concat(c.url,"/users/me"),{method:"PATCH",headers:c.headers,body:JSON.stringify({name:e,about:t})}).then((function(e){return u(e)}))}(t,r).then((function(e){H(e),n(b)})).catch((function(e){console.log(e)})).finally((function(){o.textContent="Сохранить"}))})),g.addEventListener("submit",(function(e){e.preventDefault();var t,r=M.value,o=g.querySelector(".popup__button");o.textContent="Сохранение...",(t=r,fetch("".concat(c.url,"/users/me/avatar"),{method:"PATCH",headers:c.headers,body:JSON.stringify({avatar:t})}).then((function(e){return u(e)}))).then((function(e){U(e),n(g)})).catch((function(e){console.log(e)})).finally((function(){o.textContent="Сохранить"}))}));var $=document.querySelector(".popup_type_new-card"),F=$.querySelector(".popup__input_type_card-name"),K=$.querySelector(".popup__input_type_url");$.addEventListener("submit",(function(e){e.preventDefault();var t=F.value,r=K.value,o=$.querySelector(".popup__button");o.textContent="Сохранение...",function(e,t){return fetch("".concat(c.url,"/cards"),{method:"POST",headers:c.headers,body:JSON.stringify({name:e,link:t})}).then((function(e){return u(e)}))}(t,r).then((function(e){var t=d(e,V.id,p,s,G);q.prepend(t),n($),F.value="",K.value=""})).catch((function(e){console.log(e)})).finally((function(){o.textContent="Сохранить"}))})),function(e){Array.from(document.querySelectorAll(e.formSelector)).forEach((function(t){t.addEventListener("submit",(function(e){e.preventDefault()})),function(e,t){var n=Array.from(t.querySelectorAll(e.inputSelector)),r=t.querySelector(e.submitButtonSelector);y(e,n,r),n.forEach((function(o){o.addEventListener("input",(function(){!function(e,t,n){n.validity.patternMismatch?n.setCustomValidity(n.dataset.error):n.setCustomValidity(""),n.validity.valid?_(e,t,n):function(e,t,n,r){var o=t.querySelector(".".concat(n.id,"-error"));n.classList.add(e.inputErrorClass),o.textContent=r,o.classList.add(e.errorClass)}(e,t,n,n.validationMessage)}(e,t,o),y(e,n,r)}))}))}(e,t)}))}(h)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU1wRixFQUFlRixFQUFZakUsY0FBYyxJQUFEYyxPQUFLb0QsRUFBYUUsR0FBRSxXQUVsRUYsRUFBYTNFLFVBQVVDLElBQUl3RSxFQUFpQkssaUJBRTVDRixFQUFhbkMsWUFBY3VILEVBRTNCcEYsRUFBYTVFLFVBQVVDLElBQUl3RSxFQUFpQk0sV0FDOUMsQ0FpQ0lrRixDQUNFeEYsRUFDQUMsRUFDQUMsRUFDQUEsRUFBYXVGLGtCQU1uQixDQThDTUMsQ0FBbUIxRixFQUFrQkMsRUFBYUMsR0FFbERLLEVBQWtCUCxFQUFrQlEsRUFBV0MsRUFDakQsR0FDRixHQUNGLENBOEJJa0YsQ0FBa0IzRixFQUFrQkMsRUFDdEMsR0FDRixDQ3NJQTJGLENBQWlCNUYsRSIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLXByb2plY3QtZmYvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC1mZi93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC1mZi93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL21lc3RvLXByb2plY3QtZmYvLi9zcmMvY29tcG9uZW50cy9tb2RhbC5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QtZmYvLi9zcmMvY29tcG9uZW50cy9jYXJkLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QtZmYvLi9zcmMvY29tcG9uZW50cy92YWxpZGF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QtZmYvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvL9GA0LDQsdC+0YLQsCDRgSDQvNC+0LTQsNC70YzQvdGL0LzQuCDQvtC60L3QsNC80LhcbmV4cG9ydCBmdW5jdGlvbiBvcGVuUG9wdXAocG9wdXApIHtcbiAgcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX2lzLW9wZW5lZFwiKTtcbiAgLy/QvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdC+0LHRi9GC0LjRjyAtINC90LDQttCw0YLQuNC1IEVTQyAtINC00L7QsdCw0LLQu9GP0LXQvFxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBjbG9zZVBvcHVwRXNjKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlUG9wdXAocG9wdXApIHtcbiAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX2lzLW9wZW5lZFwiKTtcbiAgLy/QvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdC+0LHRi9GC0LjRjyDRg9C00LDQu9GP0LXQvFxuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBjbG9zZVBvcHVwRXNjKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlUG9wdXBFc2MoZXZ0KSB7XG4gIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgY2xvc2VQb3B1cChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2lzLW9wZW5lZFwiKSk7XG4gIH1cbn1cblxuLy/RhNGD0L3QutGG0LjRjyDQt9Cw0LrRgNGL0YLQuNGPINC/0L4g0LrQu9C40LrRgyDQvdCwINCe0LLQtdGA0LvQtdC5XG5leHBvcnQgZnVuY3Rpb24gY2xvc2VQb3B1cE92ZXJsYXkoZXZ0KSB7XG4gIGlmIChldnQuY3VycmVudFRhcmdldCA9PT0gZXZ0LnRhcmdldCkge1xuICAgIGNsb3NlUG9wdXAoZXZ0LmN1cnJlbnRUYXJnZXQpO1xuICB9XG59XG4iLCJjb25zdCBjb25maWcgPSB7XG4gIHVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ZmLWNvaG9ydC03XCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcImEzNTI1OTZmLTBmOWEtNGRjOC04MGM5LTk4NjQ5Y2Y3Mzk1MlwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufTtcbi8v0L7QsdGA0LDQsdC+0YLQutCwINC+0YLQstC10YLQsCDRgdC10YDQstC10YDQsFxuY29uc3QgaGFuZGxlUmVzID0gKHJlcykgPT4ge1xuICBpZiAocmVzLm9rKSB7XG4gICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gIH1cblxuICAvLyDQtdGB0LvQuCDQvtGI0LjQsdC60LAsINC+0YLQutC70L7QvdGP0LXQvCDQv9GA0L7QvNC40YFcbiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbn07XG5cbi8v0L/QvtC70YPRh9C10L3QuNC1INC60LDRgNGC0L7Rh9C10Log0YEg0YHQtdGA0LLQtdGA0LBcbmV4cG9ydCBjb25zdCBnZXRJbml0aWFsQ2FyZHMgPSAoKSA9PiB7XG4gIHJldHVybiBmZXRjaChgJHtjb25maWcudXJsfS9jYXJkc2AsIHtcbiAgICBoZWFkZXJzOiBjb25maWcuaGVhZGVycyxcbiAgfSkudGhlbigocmVzKSA9PiBoYW5kbGVSZXMocmVzKSk7XG59O1xuXG4vLyDQv9C+0LvRg9GH0LXQvdC40LUg0LTQsNC90L3Ri9GFINC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDRgSDRgdC10YDQstC10YDQsFxuXG5leHBvcnQgY29uc3QgZ2V0SW5mb1VzZXIgPSAoKSA9PiB7XG4gIHJldHVybiBmZXRjaChgJHtjb25maWcudXJsfS91c2Vycy9tZWAsIHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgaGVhZGVyczogY29uZmlnLmhlYWRlcnMsXG4gIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cblxuICAgIC8vINC10YHQu9C4INC+0YjQuNCx0LrQsCwg0L7RgtC60LvQvtC90Y/QtdC8INC/0YDQvtC80LjRgVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH0pO1xufTtcblxuLy8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQtNCw0L3QvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG5leHBvcnQgY29uc3QgZWRpdEluZm9Vc2VyID0gKG5hbWUsIGFib3V0KSA9PiB7XG4gIHJldHVybiBmZXRjaChgJHtjb25maWcudXJsfS91c2Vycy9tZWAsIHtcbiAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICBoZWFkZXJzOiBjb25maWcuaGVhZGVycyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgYWJvdXQ6IGFib3V0LFxuICAgIH0pLFxuICB9KS50aGVuKChyZXMpID0+IGhhbmRsZVJlcyhyZXMpKTtcbn07XG5cbi8vINGB0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLQvtGH0LXQulxuZXhwb3J0IGNvbnN0IGNyZWF0ZU5ld0NhcmQgPSAobmFtZSwgbGluaykgPT4ge1xuICByZXR1cm4gZmV0Y2goYCR7Y29uZmlnLnVybH0vY2FyZHNgLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBoZWFkZXJzOiBjb25maWcuaGVhZGVycyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgbGluazogbGluayxcbiAgICB9KSxcbiAgfSkudGhlbigocmVzKSA9PiBoYW5kbGVSZXMocmVzKSk7XG59O1xuXG4vLyDRg9C00LDQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60LhcbmV4cG9ydCBjb25zdCByZW1vdmVDYXJkID0gKGNhcmRJZCkgPT4ge1xuICByZXR1cm4gZmV0Y2goYCR7Y29uZmlnLnVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICBoZWFkZXJzOiBjb25maWcuaGVhZGVycyxcbiAgfSkudGhlbigocmVzKSA9PiBoYW5kbGVSZXMocmVzKSk7XG59O1xuXG4vLyDQn9C+0YHRgtCw0LLQuNGC0Ywg0LvQsNC50LpcbmV4cG9ydCBjb25zdCBhZGRMaWtlID0gKGNhcmRJZCkgPT4ge1xuICByZXR1cm4gZmV0Y2goYCR7Y29uZmlnLnVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICBoZWFkZXJzOiBjb25maWcuaGVhZGVycyxcbiAgfSkudGhlbigocmVzKSA9PiBoYW5kbGVSZXMocmVzKSk7XG59O1xuXG4vLyDQo9Cx0YDQsNGC0Ywg0LvQsNC50LpcbmV4cG9ydCBjb25zdCBkZWxldGVMaWtlID0gKGNhcmRJZCkgPT4ge1xuICByZXR1cm4gZmV0Y2goYCR7Y29uZmlnLnVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICBoZWFkZXJzOiBjb25maWcuaGVhZGVycyxcbiAgfSkudGhlbigocmVzKSA9PiBoYW5kbGVSZXMocmVzKSk7XG59O1xuXG4vLyDQuNC30LzQtdC90LXQvdC40LUg0LDQstCw0YLQsNGA0LBcbmV4cG9ydCBjb25zdCBlZGl0QXZhdGFyID0gKHNyYykgPT4ge1xuICByZXR1cm4gZmV0Y2goYCR7Y29uZmlnLnVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgIGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGF2YXRhcjogc3JjLFxuICAgIH0pLFxuICB9KS50aGVuKChyZXMpID0+IGhhbmRsZVJlcyhyZXMpKTtcbn07XG4iLCJpbXBvcnQgeyBjYXJkVGVtcGxhdGUsIGRlbENhcmRzIH0gZnJvbSBcIi4uL3BhZ2VzL2luZGV4XCI7XG5pbXBvcnQgeyBhZGRMaWtlLCBkZWxldGVMaWtlLCByZW1vdmVDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpXCI7XG5pbXBvcnQgeyBvcGVuUG9wdXAsIGNsb3NlUG9wdXAgfSBmcm9tIFwiLi9tb2RhbFwiO1xuXG4vL9GD0YHRgtCw0L3QvtCy0LrQsCDQu9Cw0LnQutC+0LIg0LrQsNGA0YLQvtGH0LrQsNC8XG5leHBvcnQgZnVuY3Rpb24gc2V0TGlrZXMoY2FyZEVsZW1lbnQsIGNhcmQsIFVzZXJJZCkge1xuICBpZiAoY2FyZC5saWtlcy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgbGlrZXNDb3VudCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1udW1iZXJcIik7XG4gICAgbGlrZXNDb3VudC50ZXh0Q29udGVudCA9IGNhcmQubGlrZXMubGVuZ3RoO1xuICAgIGlmIChcbiAgICAgIGlzTGlrZXNNZShVc2VySWQsIGNhcmQubGlrZXMpICYmXG4gICAgICAhY2FyZEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9fbGlrZS1idXR0b25faXMtYWN0aXZlXCIpXG4gICAgKSB7XG4gICAgICBjYXJkRWxlbWVudFxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxuICAgICAgICAuY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2lzLWFjdGl2ZVwiKTtcbiAgICB9XG4gIH1cbn1cblxuLy/RhNGD0L3QutGG0LjRjyBsaWtlINGE0L7RgtC+XG5leHBvcnQgZnVuY3Rpb24gbGlrZUJ1dHRvbihjYXJkRWxlbWVudCwgY2FyZCkge1xuICBjb25zdCBsaWtlQ2FyZEJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG4gIGNvbnN0IGxpa2VzQ291bnQgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtbnVtYmVyXCIpO1xuICBjb25zdCBpc0xpa2VkID0gY2FyZEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9fbGlrZS1idXR0b25faXMtYWN0aXZlXCIpO1xuICBjb25zdCBsaWtlTWV0aG9kID0gaXNMaWtlZCA/IGRlbGV0ZUxpa2UgOiBhZGRMaWtlO1xuICBsaWtlTWV0aG9kKGNhcmQuX2lkKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMubGlrZXMubGVuZ3RoID4gMCkge1xuICAgICAgbGlrZXNDb3VudC50ZXh0Q29udGVudCA9IHJlcy5saWtlcy5sZW5ndGg7fSBlbHNlIHtsaWtlc0NvdW50LnRleHRDb250ZW50PVwiXCI7fVxuICAgICAgbGlrZUNhcmRCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2lzLWFjdGl2ZVwiKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xufVxuXG4vLyDQv9GA0L7QstC10YDRj9C10Lwg0LvQsNC50LrQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbmV4cG9ydCBjb25zdCBpc0xpa2VzTWUgPSAoaWQsIGxpa2VzKSA9PiB7XG4gIHJldHVybiBsaWtlcy5zb21lKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0uX2lkID09PSBpZDtcbiAgfSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FyZChjYXJkLCBpZFVzZXIsIGRlbGV0ZUNhbGxCYWNrLCBsaWtlSW1hZ2UsIG9wZW5JbWFnZSkge1xuICBjb25zdCBsaW5rID0gY2FyZC5saW5rO1xuICBjb25zdCBuYW1lID0gY2FyZC5uYW1lO1xuICBjb25zdCBjYXJkSWQgPSBjYXJkLl9pZDtcbiAgY29uc3Qgb3duZXJJZCA9IGNhcmQub3duZXIuX2lkO1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZVxuICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlc19faXRlbVwiKVxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgY29uc3QgY2FyZEltYWdlID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgY29uc3QgY2FyZFRpdGxlID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcblxuICBjYXJkSW1hZ2Uuc3JjID0gbGluaztcbiAgY2FyZEltYWdlLmFsdCA9IG5hbWU7XG4gIGNhcmRUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XG5cbiAgLy/Qv9C+0L/QsNC/INC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPINGD0LTQsNC70LXQvdC40Y9cbiAgY29uc3QgcG9wdXBDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2RlbGV0ZVwiKTtcblxuICBjb25zdCBkZWxldGVCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIik7XG4gIC8vINC10YHQu9C4INC60LDRgNGC0L7Rh9C60LAg0YHQvtC30LTQsNC90LAg0L3QtSDQvNC90L7QuSDRgtC+INGB0LrRgNGL0YLRjCDRjdC70LXQvNC10L3RgiDQutC+0YDQt9C40L3Ri1xuICBpZiAob3duZXJJZCAhPT0gaWRVc2VyKSB7XG4gICAgZGVsZXRlQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgfSBlbHNlIHtcbiAgICAvL9C/0YDQuCDQvdCw0LbQsNGC0LjQuCDQvdCwINC60L7RgNC30LjQvdGDINC+0YLQutGA0YvQstCw0LXQvCDQvtC60L3QviDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRjyDRg9C00LDQu9C10L3QuNGPXG4gICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBkZWxldGVDYWxsQmFjayhjYXJkRWxlbWVudCwgY2FyZElkKTtcbiAgICB9KTtcbiAgfVxuICAvL9GD0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuCDQv9C+0YHQu9C1INC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPXG4gIGNvbnN0IGRlbGV0ZUNvbmZpcm1CdXR0b24gPSBwb3B1cENvbmZpcm0ucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xuICBkZWxldGVDb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICAgIGRlbGV0ZUNhcmQocG9wdXBDb25maXJtLmRhdGFzZXQuaWRjYXJkKVxuICApO1xuXG4gIC8v0LvQsNC50LrQsNC10Lwg0LjQt9C+0LHRgNCw0LbQtdC90LjRj1xuICAvL9GA0LXQsNCz0LjRgNGD0LXQvCDQvdCwINC60LvQuNC6INC/0L4g0LrQvdC+0L/QutC1INGBINGB0LXRgNC00LXRh9C60L7QvFxuICBjb25zdCBsaWtlQ2FyZEJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG4gIGxpa2VDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgLy9jb25zb2xlLmxvZyhjYXJkKTtcbiAgICBsaWtlSW1hZ2UoY2FyZEVsZW1lbnQsIGNhcmQpO1xuICB9KTtcblxuICAvL9C00L7QsdCw0LLQu9GP0LXQvCDQutCw0YDRgtC+0YfQutGDINCyIHBvcHVwINC/0YDQuCDQvdCw0LbQsNGC0LjQuCDQvdCwINC60LDRgNGC0LjQvdC60YMg0L7RgtC60YDRi9Cy0LDQtdC8IHBvcHVwXG4gIGNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gb3BlbkltYWdlKGNhcmRJbWFnZSwgY2FyZFRpdGxlKSk7XG5cbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG4vLyBAdG9kbzog0KTRg9C90LrRhtC40Y8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgLy/Qv9C+0L/QsNC/INC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPINGD0LTQsNC70LXQvdC40Y9cbiAgY29uc3QgcG9wdXBDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2RlbGV0ZVwiKTtcbiAgY29uc3QgZGVsZXRlQ29uZmlybUJ1dHRvbiA9IHBvcHVwQ29uZmlybS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XG4gIGRlbGV0ZUNvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSBcItCj0LTQsNC70LXQvdC40LUuLi5cIjtcbiAgcmVtb3ZlQ2FyZChjYXJkSWQpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgZGVsQ2FyZHMucmVtb3ZlKCk7XG4gICAgICBjbG9zZVBvcHVwKHBvcHVwQ29uZmlybSk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSBcItCU0LBcIjtcbiAgICB9KTtcbn1cbiIsIi8vINCy0LrQu9GO0YfQtdC90LjQtSDQstCw0LvQuNC00LDRhtC40Lgg0LLRi9C30L7QstC+0LwgZW5hYmxlVmFsaWRhdGlvblxuLy8g0LLRgdC1INC90LDRgdGC0YDQvtC50LrQuCDQv9C10YDQtdC00LDRjtGC0YHRjyDQv9GA0Lgg0LLRi9C30L7QstC1XG5cbmNvbnN0IHNob3dFcnJvciA9IChcbiAgY29uZmlnVmFsaWRhdGlvbixcbiAgZm9ybUVsZW1lbnQsXG4gIGlucHV0RWxlbWVudCxcbiAgZXJyb3JNZXNzYWdlXG4pID0+IHtcbiAgLy/QvtGI0LjQsdC60LAsINC60L7RgtC+0YDQsNGPINC90LDQudC00LXQvdCwINCy0L3Rg9GC0YDQuCBmb3JtRWxlbWVudFxuICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gIC8v0LrQu9Cw0YHRgSDQvtGI0LjQsdC60Lgg0Y3Qu9C10LzQtdC90YLQsCBpbnB1dFxuICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChjb25maWdWYWxpZGF0aW9uLmlucHV0RXJyb3JDbGFzcyk7XG4gIC8v0KPRgdGC0LDQvdC+0LLQuNC8IGVycm9yTWVzc2FnZSDQsiDQutCw0YfQtdGB0YLQstC1INC30L3QsNGH0LXQvdC40Y8gdGV4dENvbnRlbnQg0LTQu9GPIGZvcm1FcnJvci5cbiAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAvL9CU0L7QsdCw0LLQuNC8IGVycm9yQ2xhc3Mg0LrQu9Cw0YHRgSDQstC40LTQuNC80L7RgdGC0Lgg0L7RiNC40LHQutC4XG4gIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZ1ZhbGlkYXRpb24uZXJyb3JDbGFzcyk7XG59O1xuXG5jb25zdCBoaWRlRXJyb3IgPSAoY29uZmlnVmFsaWRhdGlvbiwgZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkgPT4ge1xuICAvL9C+0YjQuNCx0LrQsCwg0LrQvtGC0L7RgNCw0Y8g0L3QsNC50LTQtdC90LAg0LLQvdGD0YLRgNC4IGZvcm1FbGVtZW50XG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgLy8g0YPQtNCw0LvQuNGC0Ywg0LrQu9Cw0YHRgSDQvtGI0LjQsdC60Lgg0YEg0Y3Qu9C10LzQtdC90YLQsCBpbnB1dFxuICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjb25maWdWYWxpZGF0aW9uLmlucHV0RXJyb3JDbGFzcyk7XG4gIC8v0KPQtNCw0LvQuNC8INCw0LrRgtC40LLQvdGL0Lkg0LrQu9Cw0YHRgSDQvtGI0LjQsdC60LggYyBlcnJvckNsYXNzLlxuICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjb25maWdWYWxpZGF0aW9uLmVycm9yQ2xhc3MpO1xuICAvLyDQntGH0LjRgdGC0LjQvCDQvtGI0LjQsdC60YNcbiAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCIgXCI7XG59O1xuXG4vL9C/0YDQvtCy0LXRgNC60LAg0L/QvtC70Y8g0LLQstC+0LTQsCDQvdCwINC60L7RgNGA0LXQutGC0L3QvtGB0YLRjFxuLy9mb3JtRWxlbWVudCAtINGE0L7RgNC80LAg0L/RgNC+0LLQtdGA0LrQuFxuLy9pbnB1dEVsZW1lbnQgLSDQv9C+0LvQtSDQv9GA0L7QstC10YDQutC4XG5jb25zdCBjaGVja0lucHV0VmFsaWRpdHkgPSAoY29uZmlnVmFsaWRhdGlvbiwgZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkgPT4ge1xuICAvL9C00LXQu9C+INCyINC/0LDRgtGC0LXRgNC90LU/XG4gIGlmIChpbnB1dEVsZW1lbnQudmFsaWRpdHkucGF0dGVybk1pc21hdGNoKSB7XG4gICAgLy8g0LLRgdGC0YDQvtC10L3QvdGL0Lkg0LzQtdGC0L7QtCBzZXRDdXN0b21WYWxpZGl0eSDQv9GA0LjQvdC40LzQsNC10YIg0L3QsCDQstGF0L7QtCDRgdGC0YDQvtC60YNcbiAgICAvLyDQuCDQt9Cw0LzQtdC90Y/QtdGCINC10Y4g0YHRgtCw0L3QtNCw0YDRgtC90L7QtSDRgdC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LVcbiAgICBpbnB1dEVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkoXG4gICAgICBpbnB1dEVsZW1lbnQuZGF0YXNldC5lcnJvclxuICAgICAgLy9cItCg0LDQt9GA0LXRiNC10L3RiyDRgtC+0LvRjNC60L4g0LvQsNGC0LjQvdGB0LrQuNC1LCDQutC40YDQuNC70LvQuNGH0LXRgdC60LjQtSDQsdGD0LrQstGLLCDQt9C90LDQutC4INC00LXRhNC40YHQsCDQuCDQv9GA0L7QsdC10LvRi1wiXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyDQvdC1INCyINC/0LDRgtGC0LXRgNC90LVcbiAgICAvLyDQvtGB0YLQsNCy0LvRj9C10Lwg0YHRgtCw0L3QtNCw0YDRgtC90YvQtSDQsdGA0LDRg9C30LXRgNC90YvQtSDRgdC+0L7QsdGJ0LXQvdC40Y9cbiAgICBpbnB1dEVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkoXCJcIik7XG4gIH1cbiAgLy8g0L3QtSDQv9GA0L7RiNC70L4g0L/RgNC+0LLQtdGA0LrRg1xuICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgIC8v0L7RiNC40LHQutCwXG4gICAgc2hvd0Vycm9yKFxuICAgICAgY29uZmlnVmFsaWRhdGlvbixcbiAgICAgIGZvcm1FbGVtZW50LFxuICAgICAgaW5wdXRFbGVtZW50LFxuICAgICAgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvL9Cy0YHQtSDQvtC6XG4gICAgaGlkZUVycm9yKGNvbmZpZ1ZhbGlkYXRpb24sIGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpO1xuICB9XG59O1xuXG4vL9Cy0YvRj9GB0L3QuNC8IC0g0JXRgdGC0Ywg0LvQuCDQt9C00LXRgdGMINGF0L7RgtGPINCx0Ysg0L7QtNC90L4g0L/QvtC70LUsINC60L7RgtC+0YDQvtC1INC90LUg0L/RgNC+0YjQu9C+INCy0LDQu9C40LTQsNGG0LjRjj9cbmNvbnN0IGhhc0ludmFsaWRJbnB1dCA9IChpbnB1dExpc3QpID0+IHtcbiAgLy8g0L/RgNC+0YXQvtC00LjQvCDQv9C+INGN0YLQvtC80YMg0LzQsNGB0YHQuNCy0YMg0LzQtdGC0L7QtNC+0Lwgc29tZVxuICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIC8vINCV0YHQu9C4INC/0L7Qu9C1INC90LUg0LLQsNC70LjQtNC90L4sINC60L7Qu9Cx0Y3QuiDQstC10YDQvdGR0YIgdHJ1ZVxuICAgIC8vINCe0LHRhdC+0LQg0LzQsNGB0YHQuNCy0LAg0L/RgNC10LrRgNCw0YLQuNGC0YHRjyDQuCDQstGB0Y8g0YTRg9C90LrRhtC40Y9cbiAgICAvLyBoYXNJbnZhbGlkSW5wdXQg0LLQtdGA0L3RkdGCIHRydWVcblxuICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICB9KTtcbn07XG5cbi8v0LHQu9C+0LrQuNGA0L7QstC60LAg0LrQvdC+0L/QutC4INCyINGB0LvRg9GH0LDQtSwg0LXRgdC70Lgg0L/RgNC+0LLQtdGA0LrQsCDQvdC1INC/0YDQvtC50LTQtdC90LAg0YTQvtGA0LzQvtC5XG5jb25zdCB0b2dnbGVCdXR0b25TdGF0ZSA9IChjb25maWdWYWxpZGF0aW9uLCBpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpID0+IHtcbiAgLy8g0JXRgdC70Lgg0LXRgdGC0Ywg0YXQvtGC0Y8g0LHRiyDQvtC00LjQvSDQvdC10LLQsNC70LjQtNC90YvQuSDQuNC90L/Rg9GCXG4gIGlmIChoYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xuICAgIC8vINGB0LTQtdC70LDQuSDQutC90L7Qv9C60YMg0L3QtdCw0LrRgtC40LLQvdC+0LlcbiAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnVmFsaWRhdGlvbi5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyDQuNC90LDRh9C1INGB0LTQtdC70LDQuSDQutC90L7Qv9C60YMg0LDQutGC0LjQstC90L7QuVxuICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnVmFsaWRhdGlvbi5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgfVxufTtcblxuLy/QtNC+0LHQsNCy0LvRj9C10Lwg0YHQu9GD0YjQsNGC0LXQu9C4INC90LAg0LLRgdC1INC/0L7Qu9GPINGE0L7RgNC80YtcbmNvbnN0IHNldEV2ZW50TGlzdGVuZXJzID0gKGNvbmZpZ1ZhbGlkYXRpb24sIGZvcm1FbGVtZW50KSA9PiB7XG4gIC8v0LLRgdC1INC/0L7Qu9GPINGE0L7RgNC80Ysg0YEg0LrQu9Cw0YHRgdC+0LwgaW5wdXRTZWxlY3RvclxuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnVmFsaWRhdGlvbi5pbnB1dFNlbGVjdG9yKVxuICApO1xuICAvLyDQntCx0L7QudC00ZHQvCDQstGB0LUg0Y3Qu9C10LzQtdC90YLRiyDQv9C+0LvRg9GH0LXQvdC90L7QuSDQutC+0LvQu9C10LrRhtC40LhcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgY29uZmlnVmFsaWRhdGlvbi5zdWJtaXRCdXR0b25TZWxlY3RvclxuICApO1xuXG4gIC8vINGH0YLQvtCx0Ysg0L/RgNC+0LLQtdGA0LjRgtGMINGB0L7RgdGC0L7Rj9C90LjQtSDQutC90L7Qv9C60Lgg0LIg0YHQsNC80L7QvCDQvdCw0YfQsNC70LVcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoY29uZmlnVmFsaWRhdGlvbiwgaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIC8vINC60LDQttC00L7QvNGDINC/0L7Qu9GOINC00L7QsdCw0LLQuNC8INC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0L7QsdGL0YLQuNGPIGlucHV0XG4gICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAvLyDQktC90YPRgtGA0Lgg0LrQvtC70LHRjdC60LAg0LLRi9C30L7QstC10LwgaXNWYWxpZCxcbiAgICAgIC8vINC/0LXRgNC10LTQsNCyINC10Lkg0YTQvtGA0LzRgyDQuCDQv9GA0L7QstC10YDRj9C10LzRi9C5INGN0LvQtdC80LXQvdGCXG4gICAgICBjaGVja0lucHV0VmFsaWRpdHkoY29uZmlnVmFsaWRhdGlvbiwgZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCk7XG4gICAgICAvLyDRh9GC0L7QsdGLINC/0YDQvtCy0LXRgNGP0YLRjCDQtdCz0L4g0L/RgNC4INC40LfQvNC10L3QtdC90LjQuCDQu9GO0LHQvtCz0L4g0LjQtyDQv9C+0LvQtdC5XG4gICAgICB0b2dnbGVCdXR0b25TdGF0ZShjb25maWdWYWxpZGF0aW9uLCBpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbi8v0L7Rh9C40YHRgtC60LAg0L7RiNC40LHQvtC6INCy0LDQu9C40LTQsNGG0LjQuCAtINC90LAg0L7RgtC60YDRi9GC0LjQtSDRhNC+0YDQvNGLXG5leHBvcnQgY29uc3QgY2xlYXJWYWxpZGF0aW9uID0gKGNvbmZpZ1ZhbGlkYXRpb24sIGZvcm1WYWxpZGF0aW9uKSA9PiB7XG4gIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgZm9ybVZhbGlkYXRpb24ucXVlcnlTZWxlY3RvckFsbChjb25maWdWYWxpZGF0aW9uLmlucHV0U2VsZWN0b3IpXG4gICk7XG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtVmFsaWRhdGlvbi5xdWVyeVNlbGVjdG9yKFxuICAgIGNvbmZpZ1ZhbGlkYXRpb24uc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgKTtcbiAgaW5wdXRMaXN0LmZvckVhY2goKHBvcHVwSW5wdXQpID0+IHtcbiAgICBoaWRlRXJyb3IoY29uZmlnVmFsaWRhdGlvbiwgZm9ybVZhbGlkYXRpb24sIHBvcHVwSW5wdXQpO1xuICAgIHBvcHVwSW5wdXQuc2V0Q3VzdG9tVmFsaWRpdHkoXCIgXCIpO1xuICB9KTtcbiAgZm9ybVZhbGlkYXRpb24ucmVzZXQ7XG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGNvbmZpZ1ZhbGlkYXRpb24sIGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XG59O1xuXG4vL3NldEV2ZW50TGlzdGVuZXJzKGZvcm1FbGVtZW50KTtcblxuZXhwb3J0IGNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnVmFsaWRhdGlvbikgPT4ge1xuICAvL9Cy0YHQtSDRhNC+0YDQvNGLXG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZ1ZhbGlkYXRpb24uZm9ybVNlbGVjdG9yKVxuICApO1xuICAvLyDQn9C10YDQtdCx0LXRgNGR0Lwg0YTQvtGA0LzRi1xuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoY29uZmlnVmFsaWRhdGlvbiwgZm9ybUVsZW1lbnQpO1xuICB9KTtcbn07XG4iLCIvLyBpbmRleC5qc1xuXG5pbXBvcnQgXCIuLi9pbmRleC5jc3NcIjsgLy8gINC40LzQv9C+0YDRgiDQs9C70LDQstC90L7Qs9C+INGE0LDQudC70LAg0YHRgtC40LvQtdC5XG5pbXBvcnQgeyBjbG9zZVBvcHVwT3ZlcmxheSwgY2xvc2VQb3B1cCwgb3BlblBvcHVwIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvbW9kYWxcIjtcbmltcG9ydCB7XG4gIGNyZWF0ZUNhcmQsXG4gIGxpa2VCdXR0b24sXG4gIGlzTGlrZXNNZSxcbiAgZGVsZXRlQ2FyZCxcbiAgc2V0TGlrZXMsXG59IGZyb20gXCIuLi9jb21wb25lbnRzL2NhcmRcIjtcbmltcG9ydCB7IGVuYWJsZVZhbGlkYXRpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy92YWxpZGF0aW9uXCI7XG5pbXBvcnQgeyBjbGVhclZhbGlkYXRpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy92YWxpZGF0aW9uXCI7XG5pbXBvcnQge1xuICBnZXRJbml0aWFsQ2FyZHMsXG4gIGdldEluZm9Vc2VyLFxuICBlZGl0SW5mb1VzZXIsXG4gIGNyZWF0ZU5ld0NhcmQsXG4gIGVkaXRBdmF0YXIsXG59IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaVwiO1xuXG4vL9C/0LXRgNC10LzQtdC90L3QsNGPINC00LvRjyDRhdGA0LDQvdC10L3QuNGPINCY0LTQtdC90YLQuNGE0LjQutCw0YLQvtGA0LAg0LrQsNGA0YLQvtGH0LrQuCDRg9C00LDQu9C10L3QuNGPXG5leHBvcnQgbGV0IGRlbENhcmRzO1xuXG4vLyDQstCw0LvQuNC00LDRhtC40Y8g0YTQvtGA0LxcbmNvbnN0IGNvbmZpZ1ZhbGlkYXRpb24gPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcbi8vIEB0b2RvOiDQotC10LzQv9C70LXQudGCINC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKS5jb250ZW50O1xuLy8gQHRvZG86IERPTSDRg9C30LvRi1xuY29uc3QgcGxhY2VDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlc19fbGlzdFwiKTtcbi8v0L/QvtC/0LDQvyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5jb25zdCBwb3B1cEVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfZWRpdFwiKTtcbi8v0YTQvtGA0LzQsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDRhNC+0YLQvlxuY29uc3QgcG9wdXBBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfbmV3LWNhcmRcIik7XG4vL9C/0L7Qv9Cw0L8g0YEg0YTQvtGC0L5cbmNvbnN0IHBvcHVwSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfaW1hZ2VcIik7XG4vL9C/0L7Qv9Cw0L8g0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0YPQtNCw0LvQtdC90LjRj1xuY29uc3QgcG9wdXBDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2RlbGV0ZVwiKTtcbi8v0L/QvtC/0LDQvyDRgdC80LXQvdGLINCw0LLQsNGC0LDRgNCwXG5jb25zdCBwb3B1cEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9hdmF0YXJcIik7XG4vL9C60L3QvtC/0LrQsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5jb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcbi8v0LrQvdC+0L/QutCwINC00L7QsdCw0LLQu9C10L3QuNGPINGE0L7RgtC+XG5jb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG4vL9Cw0LLQsNGC0LDRgFxuY29uc3QgYXZhdGFyRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIik7XG5cbi8v0LrQvdC+0L/QutCwINC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cbmNvbnN0IGNsb3NlQnV0dG9uID0gcG9wdXBFZGl0LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlXCIpO1xuLy/QutC90L7Qv9C60LAg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0YTQvtGC0L5cbmNvbnN0IGNsb3NlQnV0dG9uQWRkID0gcG9wdXBBZGQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIik7XG4vL9C60L3QvtC/0LrQsCDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L8g0LrQsNGA0YLQuNC90LrQuFxuY29uc3QgY2xvc2VCdXR0b25JbWFnZSA9IHBvcHVwSW1hZ2UucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIik7XG4vL9C60L3QvtC/0LrQsCDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L8g0L/QvtC00YLQstC10YDQttC00LXQvdC40Y9cbmNvbnN0IGNsb3NlQnV0dG9uQ29uZmlybSA9IHBvcHVwQ29uZmlybS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZVwiKTtcbi8v0LrQvdC+0L/QutCwINC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQvyDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRj1xuY29uc3QgY2xvc2VCdXR0b25BdmF0YXIgPSBwb3B1cEF2YXRhci5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZVwiKTtcblxuLy/Qv9C+0LvRjyDRhNC+0YDQvNGLINCyIERPTSDQn9GA0L7RhNC40LvRjFxuY29uc3QgbmFtZUlucHV0ID0gcG9wdXBFZGl0LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfbmFtZVwiKTtcbmNvbnN0IGpvYklucHV0ID0gcG9wdXBFZGl0LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfZGVzY3JpcHRpb25cIik7XG5jb25zdCBsaW5rQXZhdGFyID0gcG9wdXBBdmF0YXIucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9hdmF0YXJcIik7XG5cbi8v0JjQvdGE0L7RgNC80LDRhtC40Y8g0L/RgNC+0YTQuNC70Y9cbmNvbnN0IG5hbWVQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKTtcbmNvbnN0IGpvYlByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xuY29uc3QgYXZhdGFyUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIik7XG5cbmNvbnN0IHVzZXJJbmZvID0ge307XG5cbi8v0LfQsNC/0L7Qu9C90Y/QtdC8INC/0YDQvtGE0LjQu9GMXG5mdW5jdGlvbiBzZXRQcm9maWxlKHVzZXIpIHtcbiAgbmFtZVByb2ZpbGUudGV4dENvbnRlbnQgPSB1c2VyLm5hbWU7XG4gIGpvYlByb2ZpbGUudGV4dENvbnRlbnQgPSB1c2VyLmFib3V0O1xufVxuXG5mdW5jdGlvbiBzZXRBdmF0YXIodXNlcikge1xuICBhdmF0YXJQcm9maWxlLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIGBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHt1c2VyLnNyY30pO2ApO1xufVxuXG5jb25zdCBkZWxldGVDYXJkQ2FsbGJhY2sgPSAoY2FyZEVsZW1lbnQsIGNhcmRJZCkgPT4ge1xuICBwb3B1cENvbmZpcm0uZGF0YXNldC5pZGNhcmQgPSBjYXJkSWQ7XG4gIGRlbENhcmRzID0gY2FyZEVsZW1lbnQ7XG4gIG9wZW5Qb3B1cChwb3B1cENvbmZpcm0pO1xufTtcblxuUHJvbWlzZS5hbGwoW2dldEluZm9Vc2VyKCksIGdldEluaXRpYWxDYXJkcygpXSlcbiAgLnRoZW4oKFt1c2VyLCBjYXJkc10pID0+IHtcbiAgICB1c2VySW5mby5uYW1lID0gdXNlci5uYW1lO1xuICAgIHVzZXJJbmZvLmFib3V0ID0gdXNlci5hYm91dDtcbiAgICB1c2VySW5mby5zcmMgPSB1c2VyLmF2YXRhcjtcbiAgICB1c2VySW5mby5pZCA9IHVzZXIuX2lkO1xuXG4gICAgc2V0UHJvZmlsZSh1c2VySW5mbyk7XG4gICAgc2V0QXZhdGFyKHVzZXJJbmZvKTtcblxuICAgIGNhcmRzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChcbiAgICAgICAgaXRlbSxcbiAgICAgICAgdXNlckluZm8uaWQsXG4gICAgICAgIGRlbGV0ZUNhcmRDYWxsYmFjayxcbiAgICAgICAgbGlrZUJ1dHRvbixcbiAgICAgICAgb3BlbkltYWdlXG4gICAgICApO1xuXG4gICAgICBwbGFjZUNvbnRhaW5lci5hcHBlbmQoY2FyZEVsZW1lbnQpO1xuXG4gICAgICBzZXRMaWtlcyhjYXJkRWxlbWVudCwgaXRlbSwgdXNlckluZm8uaWQpO1xuICAgIH0pO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICB9KTtcblxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAvL9C30LDQv9C+0LvQvdGP0LXQvCDQv9C+0LvRjyDRhNC+0YDQvNGLINC30L3QsNGH0LXQvdC40Y/QvNC4INC/0YDQvtGE0LjQu9GPXG4gIHBvcHVwRWRpdC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF90eXBlX25hbWVcIikudmFsdWUgPVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIikuaW5uZXJUZXh0O1xuICBwb3B1cEVkaXQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9kZXNjcmlwdGlvblwiKS52YWx1ZSA9XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKS5pbm5lclRleHQ7XG4gIGNsZWFyVmFsaWRhdGlvbihjb25maWdWYWxpZGF0aW9uLCBwb3B1cEVkaXQpO1xuICBvcGVuUG9wdXAocG9wdXBFZGl0KTtcbn0pO1xuLy/QtdGB0LvQuCDQvdCwINC60L3QvtC/0LrRgyDQtNC+0LHQsNCy0LvQtdC90LjRjyDRhNC+0YLQviDQvdCw0LbQsNC70Lgg0L7RgtC60YDRi9Cy0LDQtdC8INC/0L7Qv9Cw0L9cbmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjbGVhclZhbGlkYXRpb24oY29uZmlnVmFsaWRhdGlvbiwgcG9wdXBBZGQpO1xuICBvcGVuUG9wdXAocG9wdXBBZGQpO1xufSk7XG5cbi8v0L7RgtC60YDRi9GC0Ywg0L7QutC90L4g0YDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0LDQstCw0YLQsNGAXG5hdmF0YXJFZGl0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBvcGVuUG9wdXAocG9wdXBBdmF0YXIpKTtcblxuLy/QtdGB0LvQuCDQvdCwINC60L3QvtC/0LrRgyDQt9Cw0LrRgNGL0YLQuNGPINGE0L7RgNC80Ysg0L3QsNC20LDQu9C4INC30LDQutGA0YvQstCw0LXQvCDQv9C+0L/QsNC/XG5jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gY2xvc2VQb3B1cChwb3B1cEVkaXQpKTtcbi8v0LXRgdC70Lgg0L3QsCDQutC90L7Qv9C60YMg0LTQvtCx0LDQstC70LXQvdC40Y8g0YTQvtGC0L4g0L3QsNC20LDQu9C4INC30LDQutGA0YvQstCw0LXQvCDQv9C+0L/QsNC/XG5jbG9zZUJ1dHRvbkFkZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gY2xvc2VQb3B1cChwb3B1cEFkZCkpO1xuY2xvc2VCdXR0b25JbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gY2xvc2VQb3B1cChwb3B1cEltYWdlKSk7XG5jbG9zZUJ1dHRvbkNvbmZpcm0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGNsb3NlUG9wdXAocG9wdXBDb25maXJtKSk7XG5jbG9zZUJ1dHRvbkF2YXRhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gY2xvc2VQb3B1cChwb3B1cEF2YXRhcikpO1xuXG4vL9C+0YLRgdC70LXQttC40LLQsNC10Lwg0L3QsNC20LDRgtC40LUg0L3QsCDQvtCy0LXRgNC70LXQuSDQv9C+0L/QsNC/INC60LDRgNGC0LjQvdC60LhcbnBvcHVwSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICBjbG9zZVBvcHVwT3ZlcmxheShldmVudCk7XG59KTtcbi8v0LfQsNC60YDRi9Cy0LDQtdC8INGE0L7RgNC80YMg0L3QsNC20LDRgtC40LXQvCDQvdCwINC+0LLQtdGA0LvQtdC5XG5wb3B1cEVkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICBjbG9zZVBvcHVwT3ZlcmxheShldmVudCk7XG59KTtcbnBvcHVwQWRkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgY2xvc2VQb3B1cE92ZXJsYXkoZXZlbnQpO1xufSk7XG5wb3B1cENvbmZpcm0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICBjbG9zZVBvcHVwT3ZlcmxheShldmVudCk7XG59KTtcbnBvcHVwQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgY2xvc2VQb3B1cE92ZXJsYXkoZXZlbnQpO1xufSk7XG5cbi8v0L7RgtC60YDRi9Cy0LDQtdC8INC+0LrQvdC+INGBINGE0L7RgtC+XG5leHBvcnQgZnVuY3Rpb24gb3BlbkltYWdlKGltYWdlLCB0aXRsZSkge1xuICAvL9C/0L7Qv9Cw0L8g0YEg0YTQvtGC0L5cbiAgY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfaW1hZ2VcIik7XG4gIC8v0LrQsNGA0YLQuNC90LrQsCDQsiDQv9C+0L/QsNC/XG4gIGNvbnN0IHBvcHVwSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcbiAgLy/QvtC/0LjRgdCw0L3QuNC1INC60LDRgNGC0LjQvdC60Lgg0LIg0L/QvtC/0LDQv1xuICBjb25zdCBwb3B1cENhcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jYXB0aW9uXCIpO1xuICAvL9C00L7QsdCw0LLQu9GP0LXQvCDQutCw0YDRgtC40L3QutGDINCyINC/0L7Qv9Cw0L9cbiAgcG9wdXBJbWFnZS5zcmMgPSBpbWFnZS5zcmM7XG4gIHBvcHVwSW1hZ2UuYWx0ID0gaW1hZ2UuYWx0O1xuICBwb3B1cENhcHRpb24udGV4dENvbnRlbnQgPSB0aXRsZS50ZXh0Q29udGVudDtcbiAgLy/QvtGC0LrRgNGL0LLQsNC10Lwg0L/QvtC/0LDQv1xuICBvcGVuUG9wdXAocG9wdXApO1xufVxuXG4vL9CwINGC0LXQv9C10YDRjCDQv9GA0L4g0KHQvtGF0YDQsNC90LjRgtGMIVxuXG4vLyDQntCx0YDQsNCx0L7RgtGH0LjQuiDCq9C+0YLQv9GA0LDQstC60LjCuyDRhNC+0YDQvNGLXG5mdW5jdGlvbiBjaGFuZ2VQcm9maWxlKGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTsgLy8g0K3RgtCwINGB0YLRgNC+0YfQutCwINC+0YLQvNC10L3Rj9C10YIg0YHRgtCw0L3QtNCw0YDRgtC90YPRjiDQvtGC0L/RgNCw0LLQutGDINGE0L7RgNC80YsuXG5cbiAgLy8g0J/QvtC70YPRh9C40YLQtSDQt9C90LDRh9C10L3QuNC1INC/0L7Qu9C10Lkgam9iSW5wdXQg0LggbmFtZUlucHV0INC40Lcg0YHQstC+0LnRgdGC0LLQsCB2YWx1ZVxuICBjb25zdCBuYW1lID0gbmFtZUlucHV0LnZhbHVlO1xuICBjb25zdCBqb2IgPSBqb2JJbnB1dC52YWx1ZTtcblxuICBjb25zdCBlZGl0SW5mb0J1dHRvbiA9IHBvcHVwQXZhdGFyLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcbiAgZWRpdEluZm9CdXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XG4gIC8vINCS0YHRgtCw0LLQuNGC0Ywg0L3QvtCy0L7QtSDQt9C90LDRh9C10L3QuNC1XG4gIGVkaXRJbmZvVXNlcihuYW1lLCBqb2IpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgc2V0UHJvZmlsZShyZXMpO1xuICAgICAgY2xvc2VQb3B1cChwb3B1cEVkaXQpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBlZGl0SW5mb0J1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LjRgtGMXCI7XG4gICAgfSk7XG59XG5cbi8vINCf0YDQuNC60YDQtdC/0LvRj9C10Lwg0L7QsdGA0LDQsdC+0YLRh9C40Log0Log0YTQvtGA0LzQtTpcbi8vINC+0L0g0LHRg9C00LXRgiDRgdC70LXQtNC40YLRjCDQt9CwINGB0L7QsdGL0YLQuNC10Lwg4oCcc3VibWl04oCdIC0gwqvQvtGC0L/RgNCw0LLQutCwwrtcbnBvcHVwRWRpdC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGNoYW5nZVByb2ZpbGUpO1xuXG5mdW5jdGlvbiBjaGFuZ2VBdmF0YXIoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpOyAvLyDQrdGC0LAg0YHRgtGA0L7Rh9C60LAg0L7RgtC80LXQvdGP0LXRgiDRgdGC0LDQvdC00LDRgNGC0L3Rg9GOINC+0YLQv9GA0LDQstC60YMg0YTQvtGA0LzRiy5cblxuICAvLyDQn9C+0LvRg9GH0LjRgtC1INC30L3QsNGH0LXQvdC40LUg0L/QvtC70Y8gSW5wdXQg0LjQtyDRgdCy0L7QudGB0YLQstCwIHZhbHVlXG4gIGNvbnN0IGxpbmsgPSBsaW5rQXZhdGFyLnZhbHVlO1xuICBjb25zdCBlZGl0QXZhdGFyQnV0dG9uID0gcG9wdXBBdmF0YXIucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xuICBlZGl0QXZhdGFyQnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xuICAvLyDQktGB0YLQsNCy0LjRgtGMINC90L7QstC+0LUg0LfQvdCw0YfQtdC90LjQtVxuICBlZGl0QXZhdGFyKGxpbmspXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgc2V0QXZhdGFyKHJlcyk7XG4gICAgICAvLyAgIGF2YXRhclByb2ZpbGUuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgYGJhY2tncm91bmQtaW1hZ2U6IHVybCgke2xpbmt9KTtgKTtcbiAgICAgIGNsb3NlUG9wdXAocG9wdXBBdmF0YXIpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBlZGl0QXZhdGFyQnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QuNGC0YxcIjtcbiAgICB9KTtcbn1cblxucG9wdXBBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBjaGFuZ2VBdmF0YXIpO1xuXG4vL9CwINGC0LXQv9C10YDRjCDQv9GA0L4g0JTQvtCx0LDQstC40YLRjCDQpNC+0YLQviFcbi8vINCd0LDRhdC+0LTQuNC8INGE0L7RgNC80YMg0LIgRE9NXG5jb25zdCBmb3JtTmV3UGxhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfbmV3LWNhcmRcIik7XG4vLyDQndCw0YXQvtC00LjQvCDQv9C+0LvRjyDRhNC+0YDQvNGLINCyIERPTVxuY29uc3QgbmFtZVBsYWNlID0gZm9ybU5ld1BsYWNlLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfY2FyZC1uYW1lXCIpO1xuY29uc3QgbGlua1BsYWNlID0gZm9ybU5ld1BsYWNlLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfdXJsXCIpO1xuXG4vLyDQntCx0YDQsNCx0L7RgtGH0LjQuiDCq9C+0YLQv9GA0LDQstC60LjCuyDRhNC+0YDQvNGLINC00L7QsdCw0LLQu9C10L3QuNGPINGE0L7RgtC+XG5mdW5jdGlvbiBhZGRQbGFjZVN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7IC8vINCt0YLQsCDRgdGC0YDQvtGH0LrQsCDQvtGC0LzQtdC90Y/QtdGCINGB0YLQsNC90LTQsNGA0YLQvdGD0Y4g0L7RgtC/0YDQsNCy0LrRgyDRhNC+0YDQvNGLXG4gIC8vINC30L3QsNGH0LXQvdC40LUg0L/QvtC70LXQuSDQuNC80LXQvdC4INC4INGB0YHRi9C70LrQsCDQvdCwINGE0L7RgtC+XG4gIGNvbnN0IG5hbWUgPSBuYW1lUGxhY2UudmFsdWU7XG4gIGNvbnN0IGxpbmsgPSBsaW5rUGxhY2UudmFsdWU7XG4gIGNvbnN0IG5ld1BsYWNlQnV0dG9uID0gZm9ybU5ld1BsYWNlLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcbiAgbmV3UGxhY2VCdXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XG4gIGNyZWF0ZU5ld0NhcmQobmFtZSwgbGluaylcbiAgICAudGhlbigocmVzQ2FyZCkgPT4ge1xuICAgICAgLy8g0JTQvtCx0LDQstC70Y/QtdC8INC60LDRgNGC0L7Rh9C60YNcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChcbiAgICAgICAgcmVzQ2FyZCxcbiAgICAgICAgdXNlckluZm8uaWQsXG4gICAgICAgIGRlbGV0ZUNhcmQsXG4gICAgICAgIGxpa2VCdXR0b24sXG4gICAgICAgIG9wZW5JbWFnZVxuICAgICAgKTtcbiAgICAgIHBsYWNlQ29udGFpbmVyLnByZXBlbmQoY2FyZEVsZW1lbnQpO1xuICAgICAgY2xvc2VQb3B1cChmb3JtTmV3UGxhY2UpO1xuICAgICAgbmFtZVBsYWNlLnZhbHVlID0gXCJcIjtcbiAgICAgIGxpbmtQbGFjZS52YWx1ZSA9IFwiXCI7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIG5ld1BsYWNlQnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QuNGC0YxcIjtcbiAgICB9KTtcbn1cblxuLy8g0J/RgNC40LrRgNC10L/Qu9GP0LXQvCDQvtCx0YDQsNCx0L7RgtGH0LjQuiDQuiDRhNC+0YDQvNC1INCU0L7QsdCw0LLQu9C10L3QuNGPINGE0L7RgtC+OlxuLy8g0L7QvSDQsdGD0LTQtdGCINGB0LvQtdC00LjRgtGMINC30LAg0YHQvtCx0YvRgtC40LXQvCDigJxzdWJtaXTigJ0gLSDCq9C+0YLQv9GA0LDQstC60LDCu1xuZm9ybU5ld1BsYWNlLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgYWRkUGxhY2VTdWJtaXQpO1xuXG5lbmFibGVWYWxpZGF0aW9uKGNvbmZpZ1ZhbGlkYXRpb24pO1xuXG5leHBvcnQgeyBjYXJkVGVtcGxhdGUsIHBsYWNlQ29udGFpbmVyIH07XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJvcGVuUG9wdXAiLCJwb3B1cCIsImNsYXNzTGlzdCIsImFkZCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsb3NlUG9wdXBFc2MiLCJjbG9zZVBvcHVwIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsInF1ZXJ5U2VsZWN0b3IiLCJjbG9zZVBvcHVwT3ZlcmxheSIsImN1cnJlbnRUYXJnZXQiLCJ0YXJnZXQiLCJjb25maWciLCJ1cmwiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsImhhbmRsZVJlcyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJjb25jYXQiLCJzdGF0dXMiLCJyZW1vdmVDYXJkIiwiY2FyZElkIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiYWRkTGlrZSIsImRlbGV0ZUxpa2UiLCJsaWtlQnV0dG9uIiwiY2FyZEVsZW1lbnQiLCJjYXJkIiwibGlrZUNhcmRCdXR0b24iLCJsaWtlc0NvdW50IiwiY29udGFpbnMiLCJfaWQiLCJsaWtlcyIsImxlbmd0aCIsInRleHRDb250ZW50IiwidG9nZ2xlIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiY3JlYXRlQ2FyZCIsImlkVXNlciIsImRlbGV0ZUNhbGxCYWNrIiwibGlrZUltYWdlIiwib3BlbkltYWdlIiwibGluayIsIm5hbWUiLCJvd25lcklkIiwib3duZXIiLCJjYXJkVGVtcGxhdGUiLCJjbG9uZU5vZGUiLCJjYXJkSW1hZ2UiLCJjYXJkVGl0bGUiLCJzcmMiLCJhbHQiLCJwb3B1cENvbmZpcm0iLCJkZWxldGVCdXR0b24iLCJzdHlsZSIsImRpc3BsYXkiLCJkZWxldGVDYXJkIiwiZGF0YXNldCIsImlkY2FyZCIsImRlbGV0ZUNvbmZpcm1CdXR0b24iLCJkZWxDYXJkcyIsImZpbmFsbHkiLCJoaWRlRXJyb3IiLCJjb25maWdWYWxpZGF0aW9uIiwiZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJpZCIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsZW1lbnQiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsImhhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImNsZWFyVmFsaWRhdGlvbiIsImZvcm1WYWxpZGF0aW9uIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImZvckVhY2giLCJwb3B1cElucHV0Iiwic2V0Q3VzdG9tVmFsaWRpdHkiLCJyZXNldCIsImZvcm1TZWxlY3RvciIsImNvbnRlbnQiLCJwbGFjZUNvbnRhaW5lciIsInBvcHVwRWRpdCIsInBvcHVwQWRkIiwicG9wdXBJbWFnZSIsInBvcHVwQXZhdGFyIiwiZWRpdEJ1dHRvbiIsImFkZEJ1dHRvbiIsImF2YXRhckVkaXQiLCJjbG9zZUJ1dHRvbiIsImNsb3NlQnV0dG9uQWRkIiwiY2xvc2VCdXR0b25JbWFnZSIsImNsb3NlQnV0dG9uQ29uZmlybSIsImNsb3NlQnV0dG9uQXZhdGFyIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJsaW5rQXZhdGFyIiwibmFtZVByb2ZpbGUiLCJqb2JQcm9maWxlIiwiYXZhdGFyUHJvZmlsZSIsInVzZXJJbmZvIiwic2V0UHJvZmlsZSIsInVzZXIiLCJhYm91dCIsInNldEF2YXRhciIsInNldEF0dHJpYnV0ZSIsImRlbGV0ZUNhcmRDYWxsYmFjayIsImltYWdlIiwidGl0bGUiLCJwb3B1cENhcHRpb24iLCJhbGwiLCJfcmVmIiwiX3JlZjIiLCJjYXJkcyIsImF2YXRhciIsIml0ZW0iLCJhcHBlbmQiLCJVc2VySWQiLCJzZXRMaWtlcyIsInZhbHVlIiwiaW5uZXJUZXh0IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImpvYiIsImVkaXRJbmZvQnV0dG9uIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlZGl0SW5mb1VzZXIiLCJlZGl0QXZhdGFyQnV0dG9uIiwiZm9ybU5ld1BsYWNlIiwibmFtZVBsYWNlIiwibGlua1BsYWNlIiwibmV3UGxhY2VCdXR0b24iLCJjcmVhdGVOZXdDYXJkIiwicmVzQ2FyZCIsInByZXBlbmQiLCJwYXR0ZXJuTWlzbWF0Y2giLCJlcnJvciIsImVycm9yTWVzc2FnZSIsInNob3dFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiY2hlY2tJbnB1dFZhbGlkaXR5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJlbmFibGVWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==